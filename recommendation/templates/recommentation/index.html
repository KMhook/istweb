{% extends 'layout.html' %}

{% block body_class %}recommendation{% endblock %}
{% block current_tab %}recommendation{% endblock %}

{% block main_content %}
<h1>成员推荐书籍</h1>
<ul class="books">
   {{ temp }}
   {% for tmp in books %}
      {% for key, value in tmp.items %}
       <li class="book">
          <div class="book-cover">
              <a href="{{ value.0.link.1.href }}"><img src="{{ value.0.link.2.href }}"</img></a>
          </div>

          <div class="book-info">
              <div class="book-name">
                  书名: <a href="{{ value.0.link.1.href }}">{{ value.0.title.text }}</a>
              </div>
              <div class="book-author">
                  作者：
                  {% for author in value.0.author %}
                    {{ author.name.text }} &nbsp;&nbsp;
                  {% endfor %}
              </div>
              <div class="reco_people">
                 推荐成员：
              {% for person in value.1|slice:":5" %}
                 {{ person }}
              {% endfor %}
              </div>
          </div>
       </li>
       {% endfor %}
   {% endfor %}

</ul>

<div class="pagination">
   <span class="step-links">
      {% if page.has_previous %}
      <a href="?page={{ page.previous_page_number }}">previous</a>
      {% endif %}
      <span class="current">
         Page {{ page.number }} of {{ page.paginator.num_pages }}
      </span>
      {% if page.has_next %}
      <a href="?page={{ page.next_page_number }}">next</a>
      {% endif %}
   </span>
</div>
{% endblock main_content %}
